---
title: "Example Title"
tags:
- Web 3.0
- Crypto
- Financial Transaction
---
## 算法稳定币

算法稳定币使用价格稳定算法来跟踪一个特定的单位价格，通常是1美元，并在以太坊（ETH）等基础加密货币支持的区块链上运行。

算法稳定币的价格由基于智能合约的市场和技术机制支持，这些机制锁定了加密货币抵押品并实施价格稳定算法。

与其他类型的稳定币不同，算法稳定币不能以1:1的比例兑换美元，也没有其他加密货币资产的支持。它们通常表现出高度的反身性。

对算法稳定币的需求主要由市场情绪和趋势驱动，这也影响到代币供应。Ampleforth（AMPL）是目前运行时间最长的算法稳定币。

### **AMPL:**

AMPL的代币供应量根据目标资产的价格变化而变化（这种机制被称为 "rebase"）。

代币供应的变化会影响到持有算法稳定币的每个账户。"rebase"通常发生在预定的时间间隔内，使算法稳定币网络具有高度的反应性。

一般来说，算法有两种方式调整稳定币的供应，以纠正供需之间的不平衡：**当稳定币价格上升时，算法会增加稳定币的发行量；当稳定币价格下降时，算法会减少稳定币的发行量。**

> Example：
>
> 一个非常简单的回溯算法可以设计如下：如果一个价值1美元的稳定币跌破1美元，该算法可以自动下市场买单，推动价格上涨；如果一个价值1美元的稳定币涨破1美元，该算法可以自动下市场卖单，降低价格。在实践中，AMPL的每日回调限额是固定的，用户钱包中的AMPL将在设定的时间内inflate or deflate
>
>  AMPL价格上涨→AMPL供应增加→AMPL价格下降。

早期的稳定币流通量很低，容易通过注入资金（将需求曲线向右移动，推动价格上涨）以低成本提高价格，从而导致更多稳定币的发行。

1. 这些新发行的稳定币被分配给持币人，然后他们在价格足够高时出售额外的稳定币，从而获得可观的利润。
2. 然而，随着AMPL的市场流通量变得足够大，投机基金操纵价格的成本变得更高。
3. 他们开始出售他们的稳定币并退出该项目，导致需求减少，AMPL的价格随之下降。
4. 随着价格的下降，系统的反身性进一步推动了价格的下降，促使更多的资金离开市场，形成了一个 "死亡螺旋"，直到市场需求稳定下来。

### Frax    -- 部分质押算稳币/Partial backed algorithmic stablecoin

------

## DEX

### Curve Finance

Curve Finance旨在提供一个建立在自动做市商（AMM）架构上的去中心化交易所（DEX）平台，主要关注稳定币（USDT、USDC、DAI）、合成资产/衍生品/挂钩资产（wBTC、renBTC、stETH）等；

除了在以太坊上的主要业务外，Curve已经扩展到多个链上；

Curve建立了Curve DAO，并在2020年8月推出了其本地代币$CRV。从那时起，该协议的总锁定价值（TVL）稳步增长，一度成为TVL指标最大的去中心化交易所，峰值超过240亿美元；

根据DeFiLlama的数据，在加密货币世界经历了2022年的动荡之后，该协议目前的TVL仍然位居DeFi平台的前列，约为46亿美元，最近的日交易量约为2亿美元。

#### Curve Finance的AMM解决方案

> **Curve的场景：**交换相似价值资产；**Curve的特点：**低滑点、低费用和低无常损失风险。
> **Curve Finance的方案：**Constant-function AMM（CFMM），结合了恒定和做市商（CSMM）和恒定积做市商（CPMM）的元素。
>
> 如图中的蓝色曲线所示：![image-20230512100008903](C:\Users\NOID_\AppData\Roaming\Typora\typora-user-images\image-20230512100008903.png)
>
> **方案优势**：
>
> * 为大多数交易（居中的交易）曲线相对平缓，低滑点，类似于恒定和函数，以保持价格稳定。
> * 当处理较大的交易（两端的交易）时，它使曲线在两端更加倾斜，类似于恒定产品函数，确保曲线上每一点的流动性。

### Uniswap V3

**Uniswap V2的问题：**

* 在Uniswap V2中，所有的流动性都是沿着 $x*y=k$ 价格曲线在$（0，∞）$范围内均匀分布的。但在实际应用中，一定时间内的大多数交易都集中在特定的价格范围内，这意味着在实际交易过程中，大量的锁定资产没有被利用，导致资本效率低下。
* 即使是Curve，一个专门为稳定币交易设计的平台，在改进他们的AMM公式之前也面临这个问题。

**Uniswap V3的改进：**

* Uniswap V3通过**集中流动性、范围订单和分级收费等**创新功能，使得流动性提供者（LPs）可以用更少的资本获得更高的回报。

  > **AMM:**
  >
  > 在Uniswap v3中\引入了一个新的AMM模型，称为**（active market making）主动做市**。这涉及到对流动性分配的主动管理；
  > 与平均分配流动性的被动做市相比，Uniswap v3允许用户主动将流动性集中在资金利用率最高的价格区间（当前价格附近）；
  > 由于流动性集中在当前价格周围，**当前价格附近的曲线是平滑的**，low slippage；
  > DODO和Curve还引入了动态做市，保证市场价格变动的情况下用户的利用区间也是动态变化的；

1. 为稳定币对提供流动性：
  * Uniswap的官方文件显示，如果LP在0.10%的价格范围内提供流动性，资本效率将提高4,000倍；
  * Uniswap提供四级收费水平：0.01%、0.05%、0.30%和1.00%。通过选择不同的费用水平，**LP可以在承担更多风险时获得更多回报，反之亦然；**
  * 对于稳定币对，LP**不需要担心无常损失**，所以较低的费用池（0.01%）会更有竞争力。
2. 为其他货币对提供流动性：
  * 当LP为其他货币对提供流动性时，内在逻辑是类似的。费用价格越合理资本效率越高；
    * 如果选择设定一个较小的价格范围，而交易价格在设定的范围内，则将获得更多的手续费奖励。（这需要LP交易水平较高）;
    * 频繁变化的价格范围可能需要支付高额的gas fee，影响整体收益；
    * LP可以在多个价格范围内提供流动性，从各种定价机会中获利。
3. 使用者不是专业的LP的情况：
  * 如果LP比较保守、或者不想花时间和精力监控价格波动，则可以设置一个更大的价格区间，甚至可以像Uniswap V2中那样将价格区间设置为$（0，∞）$。
4. 通过提供流动性进行Profit-taking or bottom-buying ：
  * Uniswap V3支持范围订单功能，类似于限价订单。LP可以在现价范围内将沿着平滑的价格曲线卖出。LP可以利用这一功能进行抄底或获利，与手续费奖励；
  * Uniswap V3的aggregated liquidity可以在交易时的大多数价格范围内获得更好的深度，减少滑点；
  * 特别是与稳定币相比，Uniswap可以提供比Curve更好的深度，因为滑点更少便更适合大额交易。

### Curve vs Uniswap

| 项目                   | Curve                                                        | Uniswap                                                      |
| ---------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 整体表现（无比较意义） | 无权限的，支持无限数量的流动性资金池                         | 资金池需要投票批准                                           |
| 效率                   | Curve更专注于稳定币交易，导致使用成本降低；<br />通过限制池子和每个池子内的资产类型，Curve最大限度地减少了波动性资产的价格波动风险，从而最大限度地减少了无常的损失 | 在Uniswap V2上，可能需要两次交易：稳定币1兑换\$ETH，然后\$ETH兑换稳定币2。因此，交易者会产生双倍的交易费用 |
| 滑点                   | Curve的流动性池非常可观，确保用户可以获得低滑点的交易        |                                                              |
| Stable Assets:         | V3更新前由于较低的滑点、较高的流动性深度、较低的费用和减少的无常损失，Curve占有主导优势 | Uniswap V3引入了集中的流动性，允许流动性提供者为其代币设定价格范围。一系列更新使得目前Uniswap在稳定币市场份额中占有轻微优势 |
| Non-Stable Assets:     | Curve V2改善了非稳定资产的交易体验                           | 非稳定币作为主流，稳定币在过去一年中只占Uniswap V3交易量的14%，对于主要的波动货币对，如$BTC/$ETH，Uniswap仍然是无可争议的领导者 |
| Synthetic Assets:      | Curve是合成资产的领导者，如$\$stETH、\$sETH和\$renBTC$，包括ETH/BTC对 |                                                              |
| 交易费用               | 代币的兑换费用：0.04%<br />存款和提款费用从0%到0.02%不等     | Uniswap允许用户设置自己的交易费用                            |
| 收入                   | 日均协议收入为16万美元<br />Curve的协议收入的一半被分配给了$CRV代币持有者 | 日均收入达到150万美元<br />Uniswap的收入完全支付给LP，代币持有者没有分红 |
| 总结                   | 合成资产市场中优于Uniswap<br />为稳定币项目团队提供Mint的信用<br />Curve拥有更广泛的生态系统和更大的可扩展性 | Uniswap在volatile currency pairs市场占主导地位               |

> **Curve Ecosystem**
> Curve已经发展成为一个由DAO治理的协议，作为一种服务提供资产流动性；
> 归功于Curve优秀的tokenomics，众多项目积极拥抱Curve生态系统，以减少流动性成本。
>
> Curve Ecosystem的优势：
>
> 对于项目方来说，为了让自己的资产获得良好的流动性深度，必须争取更多的\$veCRV来获得治理投票权，让自己的流动性池子分配到更多的\$CRV流动性挖掘奖励。只有这样，LP才能提供足够的流动性，稳定的资产发行者的代币才能保证交易深度，为后续业务发展奠定基础。
>
> 每天产生的用于流动性挖矿奖励的\$CRV分配由Curve的DAO核心模块【Gauge Weight Voting】（https://dao.curve.fi/gaugeweight）决定。用户可以用他们的\$veCRV在 "Gauge Weight Voting "中投票，以决定下周$CRV在各个流动性池子中的分配比例。一个池子的分配比例越高，越容易吸引足够的流动性。

#### $CRV Token

* $CRV代币授予其持有人投票权和治理权，而LP可以根据其份额和资产持有时间赚取CRV代币；

* 2020年9月引入分红机制，将50%的交易费分配给合约中的用户；

* 美元CRV的总供应量为30.3亿，迄今已释放超过15亿代币，平均每天释放约108万CRV。分配情况如下：

  - 62%用于流动性提供者、

  - 5%给早期LP提供者，一年内线性解锁、

  - 30%用于投资者，在2-4年内线性解锁、

  - 5%为可燃性储备，作为社区储备、

    - 3%用于团队成员，在两年内线性解锁。

      ##### $VeCRV:

      Curve设计了著名的VeToken（投票代币）模型。 veCRV是由用户锁定平台的原生代币CRV而获得的锁定证明；

      通过锁定\$CRV，用户获得\$veCRV。锁定CRV的时间越长，获得\$veCRV代币就越多；锁定1美元的CRV四年可获得1美元的veCRV，而只锁定一年则只能获得0.25美元的veCRV；
      \$veCRV代币不能转让，所以获得它们的唯一途径是锁定$CRV。

      **VeCRV的用途：**

      1. 交易费：0.03%的Curve平台交易费的50%以3CRV的形式累积给\$veCRV持有人。3CRV是Curve的3Pool稳定池（即DAI+USDC+USDT流动资金池）的LP代币。如果用户想提取他们的收益，他们可以通过解除3CRV的抵押来获得任何一个稳定币。
      2. 提升的奖励： 如果\$veCRV持有者也为协议提供流动性，他们可以根据其锁定期获得高达2.5倍的流动性奖励，从而提高提供流动性的整体收益。如果一个LP在3pool中提供流动性，他们最初会得到0.22%的年利率。锁定$veCRV可以将奖励提高到最高的2.5倍，即0.55%。
      3. 治理投票：\$veCRV有权力改变量表权重，允许持有人每10天参与社区投票，以分配CRV奖励排放量。Curve项目承载了许多流动性池，并有固定数量的\$CRV代币可用于奖励这些流动性池提供者。哪个池子获得最多的\$CRV奖励取决于DAO\$veCRV持有人的投票。作为个人，\$veCRV允许通过投票权影响$CRV收入。https://dao.curve.fi/minter/gauges
      4. 合作项目的潜在空投奖励
      5. veCRV随着距离CRV解锁的剩余时间的减少而线性衰减。需要持续锁定以保持最高回报。

      

      **治理投票权是\$veCRV的最重要功能。**veCRV要解决的稳定币项目问题是，如果稳定币资产出现大幅波动或交易深度不足，项目就会面临失败。

      为了解决这个问题，**一些项目在Curve流动性池中提供自己的代币作为额外的奖励，以吸引更多流动性提供者（LP）。**例如，Yearn的y池最初提供\$YFI奖励，Lido的stETH池提供\$LDO奖励，等等。

      项目在Curve上创建新的核心流动性所必须通过的社区投票条件：

      * 至少要有2500美元的veCRV来启动一个提案（相当于锁定1万美元的CRV一年）
      * 有超过30%的veCRV参与，支持率超过51%

      此外，Curve平台上每个资金池的流动性激励将由其\$veCRV投票权决定。为了增加他们的年化收益，各种协议必须积累\$veCRV并竞争Curve的流动性激励。这就增加了对$CRV的直接需求，导致了Curve War的发生。

      > **Curve War：**
      >
      > **Curve War的参与者包括：**
      >
      > 主要的稳定币项目方；Yearn Finance等各种金库；Convex等垂直管理协议（这些协议为Curve的流动性提供商和\$CRV入股者提供服务，推动了几个相关生态系统协议的发展）
      >
      > * Convex允许流动性提供商通过自己的入口参与Curve，这意味着用户可以在Convex上进行\$CRV的入股，索取\$CRV的奖励
      > * 相比Curve的老界面，Convex用户体验更好。此外，与Curve上需要锁定\$CRV并根据锁定时间有不同权重的操作限制不同，用户无需锁定\$CRV即可获得奖励。
      > * 贿赂平台加速了这场战争，如Bribe.crv和votium.app
      > * 在 "曲线战争 "之后，Convex目前持有$veCRV的最大份额，约占总流通量的42%。这意味着Convex金融公司在Curve治理中拥有最大的投票权，**最终意味着Convex将能够决定将哪一个流动性池应用于Curve金融公司的Gauge权重（奖励增加）**。

  ### Convex：

  Convex Finance致力于简化CRV定投和流动性挖掘的Curve使用流程，作为一个基于以太坊的收益汇总器。Convex更现代、更直观的UI设计最初俘获了许多零售投资者的支持。

  Convex为Curve上的两类用户提供服务：

  1. CRV持有者：\$CRV持有者可以将他们的代币质押在Convex上兑换成等量的\$cvxCRV作为流动资金。他们不仅可以享受与\$veCRV持有人相同的\$CRV奖励，还可以获得额外的\$CVX奖励。在这个流程中Convex获得与\$veCRV持有人交换来的、完全自主的$CRV治理权。目前，Convex已经成功地积累了足够的CRV，可以有效地决定Curve的流动性池上的激励分配。
  2. Curve平台LPs： Convex允许LP将其代币押在Convex上以获得更高的回报。通过在Convex上提供流动性，用户可以默认享受最高2.5倍的提升APY。Convex会将部分收益作分配给CVX代币持有人。

  $CVX Token

  veCRV - Curve治理权： 在Curve的机制中，持有人只有在锁定CRV后获得veCRV才能获取Curve的价值，行使代币功能，行使治理权。为了获得更多的veCRV，需要在较长的时间内锁定更多的CRV。

  cvxCRV - 代币化的CRV（veCRV）： cvxCRV是CRV在Convex中的代表，在Convex上每锁定一个CRV，就会以1:1的方式铸币。通过在Convex抵押CRV来获得cvxCRV，用户不需要再锁定CRV。虽然他们失去了持有veCRV的直接治理权，但他们获得了以下奖励：

  \1. 50%的Curve交易费奖励，以Curve 3pool LP Token 3Crv支付。

  \2. 10%的CRV收益，来自弯道的LP押注（已经提升为2.5倍）。

  \3. 额外的CVX奖励。

  然而，将CRV转换为cvxCRV是不可逆的，用户不能直接将cvxCRV转换回CRV。他们只能通过交易对在二级市场上将cvxCRV兑换成CRV。总之，用户可以用他们的CRV投票权（veCRV）换取cvxCRV形式的一站式赚钱机会。

  CVX - Convex治理权：CVX是Convex的原始代币，最大供应量为1亿。50%分配给Convex平台上的Curve LP供应商，25%用于平台流动性的挖掘奖励。与锁定CRV以获得veCRV类似，CVX持有者可以锁定CVX 16周以获得vlCVX，然后参与Convex治理，在协议内指挥veCRV为Curve上的各个池子分配奖励。

  

Convex利用更具吸引力的cvxCRV激励机制来获得用户的CRV，而用户可以将他们的CRV LP代币押在Convex上，以获得Convex LP代币。然后Convex平台将收到的CRV锁定在Curve平台上，获得大量的veCRV用于投票和助推，将收益作为平台收入返还给Convex。Convex然后将这些收益分配给cvxCRV和Convex LP用户。作为Convex平台的治理代币，持有CVX相当于拥有Convex的治理权。

 

综上所述，控制CVX意味着控制Convex，相当于控制Curve。这样就有可能增加对特定稳定币池的激励，比如通过稳定币项目团队的贿赂。

正如我们前面提到的，veCRV是一种不可交易的资产，具有重要价值。为了防止任何协议滥用veCRV合约，Curve实施了一个白名单机制，包括Yearn、StakeDAO和Convex。这些被列入白名单的协议有权力控制veCRV。

值得注意的是，Convex拥有将近一半的veCRV，这让他们在Curve平台上拥有重要的投票权。这就是为什么越来越多的项目选择购买并锁定CVX以获得Convex的治理权，比如Frax。

Votium是Convex的一个贿赂平台，用户只需要持有vlCVX，协议会自动选择 "贿赂 "最高的池子进行投票。

 

综上所述，Curve是整个DeFi市场复杂流动性网络的绝对核心。它的触角催生了一个又一个DeFi和稳定币应用。由于Curve的复杂性，DeFi世界中的流动性游戏与现实世界中的流动性游戏越来越相似。

随着DeFi的不断发展，Curve作为一个关键角色所产生的未来效应将有更大的想象空间。展望未来，我们可能会看到模仿Curve的微创新，比如Solidity提出的 "ve33 "模式。

 

 